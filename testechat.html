<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Video Chat 50/50</title>
  <style>
   * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  height: 100%;
  width: 100%;
  background-color: #000;
  font-family: Arial, sans-serif;
  overflow: hidden; /* bloqueia scroll */
}

.video-container {
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  position: relative;
  overflow: hidden; /* evita que algo escape da tela */
}

video {
  width: 100%;
  height: 50%;
  object-fit: cover;
  background: #000;
  border: 2px solid #007bff;
}

.flag-icon {
  position: absolute;
  top: 0; /* antes era -1px */
  right: 0; /* antes era -10px */
  width: 64px;
  height: 64px;
  cursor: pointer;
  filter: invert(23%) sepia(95%) saturate(7411%) hue-rotate(358deg) brightness(95%) contrast(115%);
}

.user {
  display: flex;
  align-items: center;
  gap: 10px;
  position: absolute;
  z-index: 2;
  background-color: rgba(0, 0, 0, 0.5);
  padding: 5px;
  border-radius: 8px;
}

.user-left {
  left: 10px;
  top: 10px;
  flex-direction: row;
}

.user-left.user-bottom {
  top: 50%;
  margin-top: 10px;
}

.profile-image {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  object-fit: cover;
  background-color: #E0E0E0;
}

.username {
  font-size: 16px;
  font-weight: bold;
  color: #e0e0e0;
  display: flex;
  align-items: center;
  gap: 1px;
}

#crown-icon {
  width: 30px;
  height: 30px;
  margin-left: 1px;
  margin-bottom: 4px;
}

#crown-icon path {
  fill: gold;
}

.input-container {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  padding: 10px;
  background-color: rgba(0, 0, 0, 0.6);
  z-index: 5;

  display: flex;
  gap: 8px;
}

.message-input {
  flex: 1;
  padding: 10px;
  font-size: 16px;
  border: none;
  border-radius: 8px;
  outline: none;
}

.send-btn {
  background-color: #0084ff;
  border: none;
  border-radius: 8px;
  width: 45px;
  height: 45px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background-color 0.2s ease, transform 0.1s ease;
  padding: 0;
}

.send-btn img {
  width: 28px; /* menor que o botão */
  height: 28px;
}

.send-btn:hover {
  background-color: #006edc;
}

.send-btn:active {
  transform: scale(0.9);
}


  </style>
</head>
<body>
  <div class="video-container" id="gestureArea">
            <div class="user user-left">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSPlwkUTsaWA_zSj0oFI7sbKYXqs-ih3b0_Bg&s" alt="Usuário 1" class="profile-image">
            <span class="username">Usuário 1 
                <svg id="crown-icon" class="icon" version="1.0" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 225.000000 225.000000" preserveAspectRatio="xMidYMid meet">
                    <g transform="translate(0.000000,225.000000) scale(0.100000,-0.100000)" fill="none" stroke="none">
                        <path d="M1085 1618 c-11 -6 -25 -19 -32 -27 -17 -22 -16 -82 1 -107 13 -18 6 -37 -79 -212 -52 -106 -96 -192 -98 -192 -2 0 -64 68 -138 152 -125 143 -133 154 -130 190 1 31 -4 44 -28 68 -50 50 -120 38 -147 -26 -12 -30 -12 -39 1 -70 9 -23 25 -40 43 -46 29 -11 30 -15 83 -257 40 -183 55 -274 59 -356 l5 -110 500 0 500 0 6 120 c5 91 19 175 58 350 28 126 51 232 51 235 0 3 14 11 30 17 60 23 70 115 17 155 -58 46 -153 -5 -145 -78 4 -33 -4 -45 -131 -190 -74 -85 -137 -154 -140 -154 -3 1 -46 85 -95 187 -90 186 -90 186 -73 215 26 45 22 85 -12 119 -31 31 -70 37 -106 17z m150 -388 c107 -222 111 -230 130 -230 7 0 82 79 166 176 85 96 155 172 156 167 1 -4 -22 -116 -51 -248 l-52 -240 -459 0 -460 0 -52 240 c-29 132 -51 243 -50 248 1 4 71 -72 156 -168 92 -105 160 -175 169 -173 19 4 14 -5 133 242 55 114 104 204 108 200 5 -5 52 -101 106 -214z m345 -495 l0 -65 -455 0 -455 0 0 65 0 65 455 0 455 0 0 -65z"/>
                    </g>
                </svg>
            </span>
        </div>
           <!-- Vídeo local (Usuário 1) -->
        <video class="video" id="user1-video" autoplay muted></video>

        <!-- Usuário 2 (Perfil) -->
        <div class="user user-left user-bottom">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSPlwkUTsaWA_zSj0oFI7sbKYXqs-ih3b0_Bg&s" alt="Usuário 2" class="profile-image">
            <span class="username">Usuário 2 
                <svg id="crown-icon" class="icon" version="1.0" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 225.000000 225.000000" preserveAspectRatio="xMidYMid meet">
                    <g transform="translate(0.000000,225.000000) scale(0.100000,-0.100000)" fill="none" stroke="none">
                        <path d="M1085 1618 c-11 -6 -25 -19 -32 -27 -17 -22 -16 -82 1 -107 13 -18 6 -37 -79 -212 -52 -106 -96 -192 -98 -192 -2 0 -64 68 -138 152 -125 143 -133 154 -130 190 1 31 -4 44 -28 68 -50 50 -120 38 -147 -26 -12 -30 -12 -39 1 -70 9 -23 25 -40 43 -46 29 -11 30 -15 83 -257 40 -183 55 -274 59 -356 l5 -110 500 0 500 0 6 120 c5 91 19 175 58 350 28 126 51 232 51 235 0 3 14 11 30 17 60 23 70 115 17 155 -58 46 -153 -5 -145 -78 4 -33 -4 -45 -131 -190 -74 -85 -137 -154 -140 -154 -3 1 -46 85 -95 187 -90 186 -90 186 -73 215 26 45 22 85 -12 119 -31 31 -70 37 -106 17z m150 -388 c107 -222 111 -230 130 -230 7 0 82 79 166 176 85 96 155 172 156 167 1 -4 -22 -116 -51 -248 l-52 -240 -459 0 -460 0 -52 240 c-29 132 -51 243 -50 248 1 4 71 -72 156 -168 92 -105 160 -175 169 -173 19 4 14 -5 133 242 55 114 104 204 108 200 5 -5 52 -101 106 -214z m345 -495 l0 -65 -455 0 -455 0 0 65 0 65 455 0 455 0 0 -65z"/>
                    </g>
                </svg>
            </span>
        </div>
        
        <!-- Vídeo remoto (Usuário 2) -->
        <video class="video" id="user2-video" autoplay></video>
    </div>
</div>
    <!-- Ícone de denúncia (bandeira) -->
    <img src="bandeira.svg" alt="Denunciar" class="flag-icon" />

    <!-- Parte superior: vídeo da outra pessoa -->
    <video id="remoteVideo" autoplay playsinline></video>

    <!-- Parte inferior: seu vídeo -->
    <video id="userVideo" autoplay muted playsinline></video>

    <!-- Campo de digitação -->
 <div class="input-container">
  <input type="text" class="message-input" placeholder="Digite sua mensagem..." />
  <button class="send-btn">
    <img src="seta.svg" alt="Enviar">
  </button>
</div>
  </div>

  <script>
    const userVideo = document.getElementById("userVideo");

    navigator.mediaDevices.getUserMedia({ video: true, audio: false })
      .then((stream) => {
        userVideo.srcObject = stream;
      })
      .catch((err) => {
        console.error("Erro ao acessar a câmera:", err);
      });

    let touchStartX = 0;
    let touchEndX = 0;

    const gestureZone = document.getElementById("gestureArea");

    gestureZone.addEventListener('touchstart', function(e) {
      touchStartX = e.changedTouches[0].screenX;
    }, false);

    gestureZone.addEventListener('touchend', function(e) {
      touchEndX = e.changedTouches[0].screenX;
      handleGesture();
    }, false);

    function handleGesture() {
      const distance = touchEndX - touchStartX;

      if (distance < -50) {
        alert("Pular o chat");
      } else if (distance > 50) {
        window.location.href = "inicial.html";
      }
    }
  </script>
</body>
</html>


