<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - TecWorld</title>
    <style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
        body, html { height: 100%; font-family: Arial, sans-serif; }
   body {
    display: flex;  
    flex-direction: column;
    justify-content: center;
    align-items: center; 
    background-color: #0d0f12; 
    overflow: hidden; 
    text-align: center;
    margin: 0;
    background-image: url('./mundotec.webp');
}
    body::after {
    content: ''; 
    position: fixed; /* Deixa o overlay fixo */
    width: 100vw; /* Largura total da tela */
    height: 100vh; /* Altura total da tela */
    background: rgba(0, 0, 0, 0.5); /* Cor preta com 50% de opacidade para escurecer */
    z-index: -1; /* Fica atr치s do conte칰do */
}

    .language-buttons {
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 2;
}

.language-buttons select {
    padding: 8px 12px;
    cursor: pointer;
    background-color: #444;
    color: #fff;
    border-radius: 5px;
    border: 1px solid #ccc;
    font-size: 12px;
    transition: background-color 0.3s, transform 0.3s;
}

.language-buttons select:hover {
    background-color: #555;
    transform: scale(1.05);
}

.language-buttons option {
    background-color: #333;
    color: white;
}

    .login-container { display: flex; justify-content: center; align-items: center; height: 100%; z-index: 2; }
    form.invisible { background-color: transparent; padding: 30px; box-shadow: none; border-radius: 0; width: 350px; text-align: center; }
    h1 { font-size: 32px; margin-bottom: 25px; color: #E0FFFF; }
    input[type="text"], input[type="password"] { width: 100%; padding: 14px; margin: 10px 0; border: 1px solid #b3dae4; border-radius: 8px; background-color: #8ed2e4; color: #ffffff; font-size: 18px; }
    input[type="text"]::placeholder, input[type="password"]::placeholder { color: #000; }
    .login-btn { width: 100%; padding: 14px; background: linear-gradient(90deg, #a6e9df 0%, #00aaff 100%); border: none; border-radius: 8px; color: #000; font-size: 18px; cursor: pointer; margin-top: 20px; transition: 0.3s; }
    .login-btn:hover { background: linear-gradient(90deg, #ffffff 0%, #f3f3f3 100%); transform: scale(1.05); }
    .forgot-password, .create-account, .back-to-login { display: block; margin-top: 20px; font-size: 14px; color: #00ffd9; text-decoration: none; }
    .forgot-password:hover, .create-account:hover, .back-to-login:hover { text-decoration: underline; color: #00aaff; }
    .error-message {
        color: #ff6347; /* Cor vermelha para erros */
        font-size: 16px; /* Ajuste o tamanho da fonte, se necess치rio */
        margin-bottom: 10px;
        text-align: left;
        font-family: Verdana, sans-serif;
        display: block; /* Garante que o erro ser치 exibido como um bloco */
    }
    .error-input { border: 1px solid #ff6347; }
    .checkbox-container { display: flex; flex-direction: row; align-items: center; font-size: 14px; color: #E0FFFF; margin-top: 10px; }
    .checkbox-container label { margin-right: 10px; }
    .checkbox-container input { margin-right: 5px; }
    input[type="text"], input[type="password"], input[type="email"] {
        width: 100%; 
        padding: 14px; 
        margin: 10px 0; 
        border: 1px solid #b3dae4; 
        border-radius: 8px; 
        background-color: #8ed2e4; 
        color: #ffffff; 
        font-size: 18px; 
    }

    input[type="text"]::placeholder, input[type="password"]::placeholder, input[type="email"]::placeholder {
        color: #000;
    }


    </style>
</head>
<body>

    <div class="language-buttons">
        <select onchange="changeLanguage(this.value)">
            <option value="pt">游游 Portugu칡s</option>
            <option value="en">游쥟릖 English</option>
            <option value="es">游쀯릖 Espa침ol</option>
        </select>
    </div>
    <div class="login-container">
        <form id="login-form" class="invisible" onsubmit="return validateForm(event)">
            <!-- Conte칰do ser치 gerado dinamicamente pelo JavaScript -->
        </form>
    </div>
     <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-analytics.js";

  // Sua configura칞칚o do Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyA-xYnpBxH7ut_aZoBJKWwkGBY9QVB5bY0",
    authDomain: "nexworld-1-235bf.firebaseapp.com",
    projectId: "nexworld-1-235bf",
    storageBucket: "nexworld-1-235bf.firebasestorage.app",
    messagingSenderId: "829828361946",
    appId: "1:829828361946:web:6c13a0884d4b0d2829bfe3",
    measurementId: "G-6M6M7MNR2E"
  };

  // Inicializa o Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);

  // Fun칞칚o para alterar o idioma
  function changeLanguage(lang) {
      localStorage.setItem('selectedLanguage', lang); // Salva o idioma
      currentLanguage = lang;
      showLogin(); // Atualiza os textos na p치gina de login
  }

  // Evento DOMContentLoaded para carregar o idioma salvo e exibir a p치gina de login
  document.addEventListener('DOMContentLoaded', () => {
      const savedLanguage = localStorage.getItem('selectedLanguage') || 'pt'; // Recupera ou usa o idioma padr칚o
      let currentLanguage = savedLanguage; // Define currentLanguage
      updateLanguageButton(savedLanguage); // Atualiza o bot칚o de idioma
      showLogin(); // Exibe o conte칰do de login imediatamente
  });

  // Fun칞칚o para exibir e traduzir a p치gina de login
  function showLogin() {
      const t = translations[currentLanguage]; // Obt칠m as tradu칞칫es para o idioma selecionado
      document.getElementById('login-form').innerHTML = `
          <h1>${t.heading}</h1>
          <input type="text" id="email" placeholder="${t.emailPlaceholder}">
          <input type="password" id="password" placeholder="${t.passwordPlaceholder}">
          <div id="general-error" class="error-message"></div>
          <button type="button" class="login-btn" onclick="login()">${t.loginButton}</button>
          <a href="#" class="forgot-password" onclick="showForgotPassword()">${t.forgotPassword}</a>
          <a href="#" class="create-account" onclick="showCreateAccount()">${t.createAccount}</a>
      `;
  }

  // Fun칞칚o para atualizar o bot칚o de sele칞칚o de idioma
  function updateLanguageButton(lang) {
      const select = document.querySelector('select');
      select.value = lang;  // Atualiza o valor do bot칚o de idioma conforme a escolha salva
  }

  const translations = {
      pt: {
          heading: "TecWorld - <br>Conectando o Mundo",
          emailPlaceholder: "Email ou nome de usuario",
          passwordPlaceholder: "Senha",
          loginButton: "Entrar",
          forgotPassword: "Esqueceu a senha?",
          createAccount: "Criar Conta",
          recoverHeading: "Recuperar Senha",
          recoverButton: "Recuperar",
          createHeading: "Criar Conta - TecWorld",
          createUsernamePlaceholder: "Nome de usu치rio",
          createEmailPlaceholder: "Email",
          createPasswordPlaceholder: "Senha",
          createTerms: "Aceito os <a href='termos.html' target='_blank'>Termos de Uso</a>",
          createPrivacy: "Aceito a <a href='privacidade.html' target='_blank'>Pol칤tica de Privacidade</a>",
          createRegister: "Cadastrar",
          backToLogin: "J치 tem conta? Entrar",
          generalError: "Por favor, preencha todos os campos solicitados.",
          invalidEmail: "Por favor, insira um email v치lido.",
          invalidPassword: "A senha deve ter mais de 5 caracteres.",
          termsError: "Voc칡 precisa aceitar os Termos de Uso e a Pol칤tica de Privacidade."
      },
      en: {
          heading: "TecWorld - <br>Connecting the World",
          emailPlaceholder: "Email or username",
          passwordPlaceholder: "Password",
          loginButton: "Login",
          forgotPassword: "Forgot password?",
          createAccount: "Create Account",
          recoverHeading: "Recover Password",
          recoverButton: "Recover",
          createHeading: "Create Account - TecWorld",
          createUsernamePlaceholder: "Username",
          createEmailPlaceholder: "Email",
          createPasswordPlaceholder: "Password",
          createTerms: "I accept the <a href='terms.html' target='_blank'>Terms of Use</a>",
          createPrivacy: "I accept the <a href='privacy.html' target='_blank'>Privacy Policy</a>",
          createRegister: "Register",
          backToLogin: "Already have an account? Login",
          generalError: "Please fill in all required fields.",
          invalidEmail: "Please enter a valid email.",
          invalidPassword: "Password must be more than 5 characters.",
          termsError: "You must accept the Terms of Use and Privacy Policy."
      },
      es: {
          heading: "TecWorld - <br>Conectando el Mundo",
          emailPlaceholder: "Correo electr칩nico o nombre de usuario",
          passwordPlaceholder: "Contrase침a",
          loginButton: "Iniciar sesi칩n",
          forgotPassword: "쯆lvidaste tu contrase침a?",
          createAccount: "Crear Cuenta",
          recoverHeading: "Recuperar Contrase침a",
          recoverButton: "Recuperar",
          createHeading: "Crear Cuenta - TecWorld",
          createUsernamePlaceholder: "Nombre de usuario",
          createEmailPlaceholder: "Correo electr칩nico",
          createPasswordPlaceholder: "Contrase침a",
          createTerms: "Acepto los <a href='terminos.html' target='_blank'>T칠rminos de Uso</a>",
          createPrivacy: "Acepto la <a href='privacidad.html' target='_blank'>Pol칤tica de Privacidad</a>",
          createRegister: "Registrar",
          backToLogin: "쯏a tienes cuenta? Iniciar sesi칩n",
          generalError: "Por favor, complete todos los campos requeridos.",
          invalidEmail: "Por favor, ingresa un correo electr칩nico v치lido.",
          invalidPassword: "La contrase침a debe tener m치s de 5 caracteres.",
          termsError: "Debes aceptar los T칠rminos de Uso y la Pol칤tica de Privacidad."
      }
  };

  // Fun칞칚o de login
  function login() {
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value.trim();
      const errorMessage = document.getElementById('general-error');

      // Verifica se os campos foram preenchidos
      if (!email || !password) {
          errorMessage.innerHTML = 'Preencha todos os campos antes de continuar.';
          errorMessage.style.display = 'block';
          return;
      }

      // Recupera os dados do usu치rio usando o e-mail
      const userData = localStorage.getItem("user_" + email);

      if (userData) {
          const parsedData = JSON.parse(userData);

          // Verifica se a senha corresponde
          if (parsedData.password === password) {
              // Sucesso no login, redireciona
              localStorage.setItem("email", email); // Salva o e-mail logado
              window.location.href = "inicial.html";  // Redireciona para a p치gina inicial
          } else {
              errorMessage.innerHTML = 'E-mail ou senha inv치lidos.';
              errorMessage.style.display = 'block';
          }
      } else {
          // E-mail n칚o encontrado
          errorMessage.innerHTML = 'E-mail n칚o registrado.';
          errorMessage.style.display = 'block';
      }
  }

  // Fun칞칚o para salvar os dados do usu치rio ao se cadastrar
  function saveAccount() {
      const username = document.getElementById('username').value.trim();
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value.trim();
      const terms = document.getElementById('terms').checked;
      const privacy = document.getElementById('privacy').checked;
      const errorMessage = document.getElementById('general-error');

      // Verifica se todos os campos foram preenchidos
      if (!username || !email || !password || !terms || !privacy) {
          errorMessage.innerHTML = 'Preencha todos os campos e aceite os termos.';
          errorMessage.style.display = 'block';
          return;
      }

      // Verifica se o e-mail j치 foi cadastrado
      const existingUser = localStorage.getItem("user_" + email);
      if (existingUser) {
          errorMessage.innerHTML = 'Este e-mail j치 est치 cadastrado.';
          errorMessage.style.display = 'block';
          return;
      }

      // Cria um objeto de dados do usu치rio
      const userData = {
          username: username,
          password: password
      };

      // Salva os dados do usu치rio no localStorage
      localStorage.setItem("user_" + email, JSON.stringify(userData));

      // Salva o e-mail do usu치rio para login posterior
      localStorage.setItem("email", email);

      // Redireciona para a p치gina inicial ap칩s o cadastro
      window.location.href = "inicial.html"; 
  }

  // Fun칞칚o para exibir o formul치rio de recupera칞칚o de senha
  function recoverPassword() {
      const email = document.getElementById('email').value.trim();
      if (!email) {
          alert('Por favor, insira um e-mail v치lido.');
          return;
      }
      alert('Recupera칞칚o de senha em breve!');
  }

  // Inicializa a tela de login
  showLogin();
</script>

 </body>
</html>
